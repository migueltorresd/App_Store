<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      TechStore
    </ion-title>
    <ion-buttons slot="end" *ngIf="isAuthenticated">
      <ion-button (click)="goToProducts()">
        <ion-icon name="search-outline"></ion-icon>
      </ion-button>
      <ion-button>
        <ion-icon name="cart-outline"></ion-icon>
      </ion-button>
      <!-- Botón de usuario/perfil con menú -->
      <ion-button (click)="showUserMenu()">
        <ion-icon name="person-circle-outline"></ion-icon>
      </ion-button>
      <!-- Botón de cerrar sesión -->
      <ion-button (click)="logout()" color="light">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <!-- Botones para usuario no autenticado -->
    <ion-buttons slot="end" *ngIf="!isAuthenticated">
      <ion-button (click)="router.navigate(['/login'])" fill="clear">
        Iniciar Sesión
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div class="welcome-section">
    <div class="hero-content">
      <div class="hero-badge">
        <ion-icon name="storefront" size="small"></ion-icon>
        <span>TechStore</span>
      </div>
      <h1 class="hero-title">Bienvenido a TechStore</h1>
      <p class="hero-subtitle">Descubre la última tecnología al mejor precio</p>
    </div>
    
    <div class="categories-section">
      <h2 class="section-title">Explora nuestras categorías</h2>
      <div class="categories-grid">
        <div class="category-card" (click)="goToCategory('smartphones')">
          <div class="category-icon">
            <ion-icon name="phone-portrait" size="large"></ion-icon>
          </div>
          <div class="category-content">
            <h3>Smartphones</h3>
            <p>Los últimos modelos</p>
          </div>
          <ion-icon name="chevron-forward" class="category-arrow"></ion-icon>
        </div>
        
        <div class="category-card" (click)="goToCategory('laptops')">
          <div class="category-icon">
            <ion-icon name="laptop" size="large"></ion-icon>
          </div>
          <div class="category-content">
            <h3>Laptops</h3>
            <p>Potencia y rendimiento</p>
          </div>
          <ion-icon name="chevron-forward" class="category-arrow"></ion-icon>
        </div>
        
        <div class="category-card" (click)="goToCategory('audio')">
          <div class="category-icon">
            <ion-icon name="headset" size="large"></ion-icon>
          </div>
          <div class="category-content">
            <h3>Audio</h3>
            <p>Sonido de calidad</p>
          </div>
          <ion-icon name="chevron-forward" class="category-arrow"></ion-icon>
        </div>
        
        <div class="category-card" (click)="goToCategory('gaming')">
          <div class="category-icon">
            <ion-icon name="game-controller" size="large"></ion-icon>
          </div>
          <div class="category-content">
            <h3>Gaming</h3>
            <p>Para los gamers</p>
          </div>
          <ion-icon name="chevron-forward" class="category-arrow"></ion-icon>
        </div>
      </div>
    </div>
    
    <!-- Estado de autenticación -->
    <div class="auth-section" *ngIf="!isAuthenticated">
      <div class="auth-card guest-card">
        <div class="auth-icon">
          <ion-icon name="lock-closed" size="large"></ion-icon>
        </div>
        <div class="auth-content">
          <h3>¡Inicia sesión para continuar!</h3>
          <p>Accede a tu cuenta para explorar y comprar productos</p>
          <div class="auth-actions">
            <ion-button expand="block" fill="solid" color="primary" (click)="quickLogin()" class="primary-btn">
              <ion-icon name="flash" slot="start"></ion-icon>
              Login Demo Rápido
            </ion-button>
            <ion-button expand="block" fill="outline" color="primary" (click)="router.navigate(['/login'])" class="secondary-btn">
              <ion-icon name="person" slot="start"></ion-icon>
              Iniciar Sesión
            </ion-button>
          </div>
          <ion-text color="medium" class="auth-note">
            <small>🎯 Demo usará: admin@techstore.com</small>
          </ion-text>
        </div>
      </div>
    </div>

    <div class="auth-section" *ngIf="isAuthenticated">
      <div class="auth-card authenticated-card">
        <div class="auth-icon success">
          <ion-icon name="checkmark-circle" size="large"></ion-icon>
        </div>
        <div class="auth-content">
          <div class="welcome-text">
            <h3>¡Hola, {{currentUser?.nombre || currentUser?.name}}!</h3>
            <p>Bienvenido de vuelta a TechStore</p>
          </div>
          
          <div class="auth-actions">
            <ion-button expand="block" fill="solid" color="primary" (click)="goToProducts()" class="primary-btn">
              <ion-icon name="storefront" slot="start"></ion-icon>
              Explorar Productos
            </ion-button>
            <div class="quick-actions">
              <ion-button fill="outline" color="medium" size="small" (click)="goToProducts()">
                <ion-icon name="search" slot="start"></ion-icon>
                Buscar
              </ion-button>
              <ion-button fill="outline" color="medium" size="small">
                <ion-icon name="cart" slot="start"></ion-icon>
                Carrito
              </ion-button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>
