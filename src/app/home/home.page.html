<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>
      TechStore
    </ion-title>
    <ion-buttons slot="end" *ngIf="isAuthenticated">
      <ion-button (click)="goToProducts()">
        <ion-icon name="search-outline"></ion-icon>
      </ion-button>
      <ion-button>
        <ion-icon name="cart-outline"></ion-icon>
      </ion-button>
      <!-- Botón de usuario/perfil con menú -->
      <ion-button (click)="showUserMenu()">
        <ion-icon name="person-circle-outline"></ion-icon>
      </ion-button>
      <!-- Botón de cerrar sesión -->
      <ion-button (click)="logout()" color="light">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <!-- Botones para usuario no autenticado -->
    <ion-buttons slot="end" *ngIf="!isAuthenticated">
      <ion-button (click)="router.navigate(['/login'])" fill="clear">
        Iniciar Sesión
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">ElectroStore</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="welcome-section">
    <h1>Bienvenido a ElectroStore</h1>
    <p>Los mejores productos electrónicos al mejor precio</p>
    
    <div class="categories-grid">
      <ion-card class="category-card">
        <ion-card-content>
          <ion-icon name="phone-portrait-outline" size="large"></ion-icon>
          <h3>Smartphones</h3>
        </ion-card-content>
      </ion-card>
      
      <ion-card class="category-card">
        <ion-card-content>
          <ion-icon name="laptop-outline" size="large"></ion-icon>
          <h3>Laptops</h3>
        </ion-card-content>
      </ion-card>
      
      <ion-card class="category-card">
        <ion-card-content>
          <ion-icon name="headset-outline" size="large"></ion-icon>
          <h3>Audio</h3>
        </ion-card-content>
      </ion-card>
      
      <ion-card class="category-card">
        <ion-card-content>
          <ion-icon name="game-controller-outline" size="large"></ion-icon>
          <h3>Gaming</h3>
        </ion-card-content>
      </ion-card>
    </div>
    
    <!-- Estado de autenticación -->
    <div class="auth-status" *ngIf="!isAuthenticated">
      <ion-card class="auth-card">
        <ion-card-content>
          <h3>🔒 ¡Inicia sesión para continuar!</h3>
          <p>Accede a tu cuenta para explorar y comprar productos</p>
          <ion-button expand="block" color="primary" (click)="quickLogin()" class="demo-login-btn">
            🎯 Login Demo Rápido
          </ion-button>
          <ion-text color="medium">
            <small>Usará credenciales: admin@electrostore.com</small>
          </ion-text>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="auth-status" *ngIf="isAuthenticated">
      <ion-card class="auth-card authenticated">
        <ion-card-content>
          <div class="user-info">
            <ion-icon name="checkmark-circle" color="success"></ion-icon>
            <div>
              <h3>¡Hola, {{currentUser?.nombre}}!</h3>
              <p>Bienvenido de vuelta a ElectroStore</p>
            </div>
          </div>
          
          <div class="action-buttons">
            <ion-button expand="block" color="primary" class="cta-button" (click)="goToProducts()">
              <ion-icon name="storefront-outline" slot="start"></ion-icon>
              Explorar Productos
            </ion-button>
          </div>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>
